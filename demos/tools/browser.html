<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Burno.js - Demo - Browser</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <link rel="stylesheet" href="../src/css/style.css">
</head>
<body>

    <div class="element detect"></div>
    <div class="element scroll"></div>
    <div class="element resize"></div>
    <div class="element breakpoints"></div>

    <!-- POLYFILLS -->
    <script src="../../src/polyfills/classlist.js"></script>
    <script src="../../src/polyfills/foreach.js"></script>
    <script src="../../src/polyfills/getcomputedstyle.js"></script>
    <script src="../../src/polyfills/htmlelement.js"></script>
    <script src="../../src/polyfills/indexof.js"></script>
    <script src="../../src/polyfills/object-keys.js"></script>
    <script src="../../src/polyfills/object-create.js"></script>
    <script src="../../src/polyfills/requestanimationframe.js"></script>

    <!-- CORE -->
    <script src="../../src/core/b.class.js"></script>
    <script src="../../src/core/abstract.class.js"></script>
    <script src="../../src/core/event_emitter.class.js"></script>

    <!-- TOOLS -->
    <script src="../../src/tools/browser.class.js"></script>
    <script src="../../src/tools/colors.class.js"></script>
    <script src="../../src/tools/css.class.js"></script>
    <script src="../../src/tools/ga_tags.class.js"></script>
    <script src="../../src/tools/keyboard.class.js"></script>
    <script src="../../src/tools/konami_code.class.js"></script>
    <script src="../../src/tools/mouse.class.js"></script>
    <script src="../../src/tools/offline.class.js"></script>
    <script src="../../src/tools/registry.class.js"></script>
    <script src="../../src/tools/resizer.class.js"></script>
    <script src="../../src/tools/strings.class.js"></script>
    <script src="../../src/tools/ticker.class.js"></script>

    <script>

        var browser = new B.Tools.Browser( {
            breakpoints :
            [
                {
                    name     : 'large',
                    limits   :
                    {
                        width :
                        {
                            value    : 960,
                            extreme  : 'min',
                            included : false
                        }
                    }
                },
                {
                    name     : 'medium',
                    limits   :
                    {
                        width :
                        {
                            value    : 960,
                            extreme  : 'max',
                            included : true
                        }
                    }
                },
                {
                    name     : 'small',
                    limits   :
                    {
                        width :
                        {
                            value    : 500,
                            extreme  : 'max',
                            included : true
                        }
                    }
                }
            ]
        } );

        browser.on( 'scroll', function( viewport )
        {
            console.log( 'scroll', viewport );

            var text = [];
            text.push( '<strong>' );
            text.push( 'scroll' );
            text.push( '</strong>' );

            text.push( '<table>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'x' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.x );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'y' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.y );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'delta x' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.delta.x );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'delta y' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.delta.y );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'direction y' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.direction.y );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'direction x' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.direction.x );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '</table>' );

            // Add to DOM
            document.querySelector( '.element.scroll' ).innerHTML = text.join('');
        } );

        browser.on( 'resize', function( viewport )
        {
            console.log( 'resize', viewport );

            var text = [];
            text.push( '<strong>' );
            text.push( 'resize' );
            text.push( '</strong>' );

            text.push( '<table>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'width' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.width );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '<tr>' );
            text.push( '<td class="label">' );
            text.push( 'height' );
            text.push( '</td>' );
            text.push( '<td class="value">' );
            text.push( viewport.height );
            text.push( '</td>' );
            text.push( '</tr>' );

            text.push( '</table>' );

            // Add to DOM
            document.querySelector( '.element.resize' ).innerHTML = text.join('');
        } );

        browser.on( 'breakpoint', function( breakpoints, breakpoints_names )
        {
            console.log( 'breakpoints', breakpoints );
            console.log( 'breakpoints names', breakpoints_names );

            var text = [];
            text.push( '<strong>' );
            text.push( 'breakpoints' );
            text.push( '</strong>' );

            text.push( '<table>' );

            for( var i = 0; i < breakpoints.length; i++ )
            {
                text.push( '<tr>' );
                text.push( '<td class="label">' );
                text.push( 'name' );
                text.push( '</td>' );
                text.push( '<td class="value">' );
                text.push( breakpoints[ i ].name );
                text.push( '</td>' );
                text.push( '</tr>' );
            }


            text.push( '</table>' );

            // Add to DOM
            document.querySelector( '.element.breakpoints' ).innerHTML = text.join('');
        } );

        console.log( 'detect', browser.detect );

        // Detection
        var text = [];
        text.push( '<strong>' );
        text.push( 'user agent' );
        text.push( '</strong>' );
        text.push( '<br>' );
        text.push( browser.user_agent );
        text.push( '<br>' );
        text.push( '<br>' );
        text.push( '<strong>' );
        text.push( 'plateform' );
        text.push( '</strong>' );
        text.push( '<br>' );
        text.push( browser.plateform );
        text.push( '<br>' );
        text.push( '<br>' );
        for( var category in browser.detect )
        {
            text.push( '<strong>' );
            text.push( category );
            text.push( '</strong>' );
            text.push( '<table>' );
            // Each property in category
            for( var property in browser.detect[ category ] )
            {
                var value = browser.detect[ category ][ property ];

                text.push( '<tr>' );
                text.push( '<td class="label">' );
                text.push( property );
                text.push( '</td>' );
                text.push( '<td class="value ' );
                text.push( value ? 'active' : 'inactive' );
                text.push( '">' );
                text.push( value );
                text.push( '</td>' );
                text.push( '</tr>' );
            }
            text.push( '</table><br>' );
        }

        // Classes
        text.push( '<strong>' );
        text.push( 'classes' );
        text.push( '</strong>' );
        for( var _class in browser.classes )
        {
            text.push( '<br>' );
            if( typeof browser.classes[ _class ] === 'string' )
                text.push( browser.classes[ _class ] );
            text.push( ' ' );
        }

        // Add to DOM
        document.querySelector( '.element.detect' ).innerHTML = text.join('');

    </script>
</body>
</html>
