"document"in self&&("classList"in document.createElement("_")?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var i,n=arguments.length;for(i=0;n>i;i++)t=arguments[i],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:i.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},c=function(t){for(var e=s.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;o>n;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},h=c[i]=[],u=function(){return new c(this)};if(a[i]=Error[i],h.item=function(t){return this[t]||null},h.contains=function(t){return t+="",-1!==l(this,t)},h.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do t=e[i]+"",-1===l(this,t)&&(this.push(t),o=!0);while(++i<n);o&&this._updateClassName()},h.remove=function(){var t,e,i=arguments,n=0,o=i.length,s=!1;do for(t=i[n]+"",e=l(this,t);-1!==e;)this.splice(e,1),s=!0,e=l(this,t);while(++n<o);s&&this._updateClassName()},h.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),e===!0||e===!1?e:!i},h.toString=function(){return this.join(" ")},o.defineProperty){var d={get:u,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,d)}catch(f){-2146823252===f.number&&(d.enumerable=!1,o.defineProperty(n,e,d))}}else o[i].__defineGetter__&&n.__defineGetter__(e,u)}}(self)),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var i,n;if(null==this)throw new TypeError(" this vaut null ou n est pas dÃ©fini");var o=Object(this),s=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" n est pas une fonction");for(arguments.length>1&&(i=e),n=0;s>n;){var r;n in o&&(r=o[n],t.call(i,r,n,o)),n++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var s=+e||0;if(1/0===Math.abs(s)&&(s=0),s>=o)return-1;for(i=Math.max(s>=0?s:o-Math.abs(s),0);o>i;){if(i in n&&n[i]===t)return i;i++}return-1}),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+n)},n);return t=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in o)t.call(o,s)&&a.push(s);if(e)for(r=0;n>r;r++)t.call(o,i[r])&&a.push(i[r]);return a}}()),function(){"use strict";window.copy=function(t){var e=null;if(!t||"object"!=typeof t||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement||t instanceof Class||"undefined"!=typeof THREE&&t instanceof THREE.Object3D||"undefined"!=typeof jQuery&&t instanceof jQuery)return t;if(t instanceof Array){e=[];for(var i=0,n=t.length;n>i;i++)e[i]=copy(t[i]);return e}e={};for(var i in t)e[i]=copy(t[i]);return e},window.merge=function(t,e){for(var i in e){var n=e[i];"object"!=typeof n||n instanceof HTMLElement||n instanceof Class||"undefined"!=typeof THREE&&n instanceof THREE.Object3D||"undefined"!=typeof n&&"undefined"!=typeof jQuery&&n instanceof jQuery?t[i]=n:(t[i]&&"object"==typeof t[i]||(t[i]=n instanceof Array?[]:{}),merge(t[i],n))}return t};var t=!1,e=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;window.Class=function(){};var i=function(t){var i=this.prototype,n={};for(var o in t)"function"==typeof t[o]&&"function"==typeof i[o]&&e.test(t[o])?(n[o]=i[o],i[o]=function(t,e){return function(){var i=this._super;this._super=n[t];var o=e.apply(this,arguments);return this._super=i,o}}(o,t[o])):i[o]=t[o]};window.Class.extend=function(n){function o(){if(!t){if(this.static_instantiate){var e=this.static_instantiate.apply(this,arguments);if(e)return e}for(var i in this)"object"==typeof this[i]&&(this[i]=copy(this[i]));this.init&&this.init.apply(this,arguments)}return this}var s=this.prototype;t=!0;var r=new this;t=!1;for(var a in n)r[a]="function"==typeof n[a]&&"function"==typeof s[a]&&e.test(n[a])?function(t,e){return function(){var i=this._super;this._super=s[t];var n=e.apply(this,arguments);return this._super=i,n}}(a,n[a]):n[a];return o.prototype=r,o.prototype.constructor=o,o.extend=window.Class.extend,o.inject=i,o}}();var B={Core:{},Tools:{},Components:{}};!function(){"use strict";B.Core.Abstract=Class.extend({options:{},init:function(t){"undefined"==typeof t&&(t={}),this.$={},this.options=merge(this.options,t)},start:function(){},ignite:function(){return this.start()},destroy:function(){}})}(),function(){"use strict";B.Core.Event_Emitter=B.Core.Abstract.extend({options:{},init:function(t){this._super(t),this.callbacks={},this.callbacks.base={}},on:function(t,e){if("undefined"==typeof t||""===t)return console.warn("Wrong name"),!1;if("undefined"==typeof e)return console.warn("Wrong action"),!1;var i=this,n=[];return t=t.replace(/[^a-zA-Z0-9 ,\/.]/g,""),t=t.replace(/[,\/]+/g," "),n=t.split(" "),n.forEach(function(t){t=i.resolve_name(t),i.callbacks[t.tag]instanceof Object||(i.callbacks[t.tag]={}),i.callbacks[t.tag][t.value]instanceof Array||(i.callbacks[t.tag][t.value]=[]),i.callbacks[t.tag][t.value].push(e)}),this},off:function(t){if("undefined"==typeof t||""===t)return console.warn("Wrong name"),!1;var e=this,i=[];return t=t.replace(/[^a-zA-Z0-9 ,\/.]/g,""),t=t.replace(/[,\/]+/g," "),i=t.split(" "),i.forEach(function(t){if(t=e.resolve_name(t),"base"!==t.tag&&""===t.value)delete e.callbacks[t.tag];else if("base"===t.tag)for(var i in e.callbacks)e.callbacks[i]instanceof Object&&e.callbacks[i][t.value]instanceof Array&&(delete e.callbacks[i][t.value],0===Object.keys(e.callbacks[i]).length&&delete e.callbacks[i]);else e.callbacks[t.tag]instanceof Object&&e.callbacks[t.tag][t.value]instanceof Array&&(delete e.callbacks[t.tag][t.value],0===Object.keys(e.callbacks[t.tag]).length&&delete e.callbacks[t.tag])}),this},trigger:function(t,e){if("undefined"==typeof t||""===t)return console.warn("Wrong name"),!1;var i=this,n=void 0,o=void 0;if(e instanceof Array||(e=[]),t=i.resolve_name(t),t.value=t.value.replace(/[^a-zA-Z0-9 ,\/.]/g,""),t.value=t.value.replace(/[,\/]+/g," "),"base"===t.tag)for(var s in i.callbacks)i.callbacks[s]instanceof Object&&i.callbacks[s][t.value]instanceof Array&&i.callbacks[s][t.value].forEach(function(t){o=t.apply(i,e),"undefined"==typeof n&&(n=o)});else if(this.callbacks[t.tag]instanceof Object){if(""===t.value)return console.warn("Wrong name"),this;i.callbacks[t.tag][t.value].forEach(function(t){o=t.apply(i,e),"undefined"==typeof n&&(n=o)})}return n},trigga:function(t,e){return this.trigger(t,e)},clean_name:function(t){return t=t.toLowerCase(),t=t.replace("-","_")},resolve_name:function(t){var e={},i=t.split(".");return e.original=t,e.value=i[0],e.tag="base",i.length>1&&""!==i[1]&&(e.tag=i[1]),e}})}(),function(){"use strict";B.Tools.Mouse=B.Core.Event_Emitter.extend({static_instantiate:function(){return null===B.Tools.Mouse.prototype.instance?null:B.Tools.Mouse.prototype.instance},init:function(t){this._super(t),this.browser=new B.Tools.Browser,this.down=!1,this.position={},this.position.x=0,this.position.y=0,this.position.ratio={},this.position.ratio.x=0,this.position.ratio.y=0,this.wheel={},this.wheel.delta=0,this.init_events(),B.Tools.Mouse.prototype.instance=this},init_events:function(){function t(t){o.down=!0,o.trigger("down",[o.position,t.target])===!1&&(console.log("prevented"),t.preventDefault())}function e(t){o.down=!1,o.trigger("up",[o.position,t.target])}function i(t){o.position.x=t.clientX,o.position.y=t.clientY,o.position.ratio.x=o.position.x/o.browser.viewport.width,o.position.ratio.y=o.position.y/o.browser.viewport.height,o.trigger("move",[o.position,t.target])}function n(t){return o.wheel.delta=t.wheelDeltaY||t.wheelDelta||-t.detail,o.trigger("wheel",[o.wheel.delta])===!1?(t.preventDefault(),!1):void 0}var o=this;document.addEventListener?(document.addEventListener("mousedown",t,!1),document.addEventListener("mouseup",e,!1),document.addEventListener("mousemove",i,!1),document.addEventListener("mousewheel",n,!1),document.addEventListener("DOMMouseScroll",n,!1)):(document.attachEvent("onmousedown",t,!1),document.attachEvent("onmouseup",e,!1),document.attachEvent("onmousemove",i,!1),document.attachEvent("onmousewheel",n,!1))}})}(),function(){"use strict";B.Tools.Keyboard=B.Core.Event_Emitter.extend({options:{keycode_names:{91:"cmd",17:"ctrl",32:"space",16:"shift",18:"alt",20:"caps",9:"tab",13:"enter",8:"backspace",38:"up",39:"right",40:"down",37:"left",27:"esc"}},static_instantiate:function(){return null===B.Tools.Keyboard.prototype.instance?null:B.Tools.Keyboard.prototype.instance},init:function(t){this._super(t),this.browser=new B.Tools.Browser,this.downs=[],this.init_events(),B.Tools.Keyboard.prototype.instance=this},init_events:function(){var t=this;window.onkeydown=function(e){var i=t.keycode_to_character(e.keyCode);-1===t.downs.indexOf(i)&&t.downs.push(i),t.trigger("down",[e.keyCode,i])===!1&&e.preventDefault()},window.onkeyup=function(e){var i=t.keycode_to_character(e.keyCode);-1!==t.downs.indexOf(i)&&t.downs.splice(t.downs.indexOf(i),1),t.trigger("up",[e.keyCode,i])}},keycode_to_character:function(t){var e=this.options.keycode_names[t];return e||(e=String.fromCharCode(t).toLowerCase()),e},are_down:function(t){for(var e=!0,i=0;i<t.length;i++){var n=t[i];"number"==typeof n&&(n=this.keycode_to_character(n)),-1===this.downs.indexOf(n)&&(e=!1)}return e},is_down:function(t){return this.are_down([t])}})}(),function(){"use strict";B.Tools.Browser=B.Core.Event_Emitter.extend({options:{disable_hover_on_scroll:!0,initial_trigger:!0,add_classes_to:["body"],breakpoints:[{name:"large",limits:{width:{value:960,extreme:"min",included:!1}}},{name:"medium",limits:{width:{value:960,extreme:"max",included:!0}}},{name:"small",limits:{width:{value:500,extreme:"max",included:!0}}}]},static_instantiate:function(){return null===B.Tools.Browser.prototype.instance?null:B.Tools.Browser.prototype.instance},init:function(t){var e=this;this._super(t),this.ticker=new B.Tools.Ticker,this.viewport={},this.viewport.top=0,this.viewport.left=0,this.viewport.y=0,this.viewport.x=0,this.viewport.delta={},this.viewport.delta.top=0,this.viewport.delta.left=0,this.viewport.delta.y=0,this.viewport.delta.x=0,this.viewport.direction={},this.viewport.direction.x=null,this.viewport.direction.y=null,this.viewport.width=window.innerWidth,this.viewport.height=window.innerHeight,this.pixel_ratio=window.devicePixelRatio||1,this.shall_trigger={},this.is=null,this.version=null,this.init_browser_version(),this.init_breakpoints(),this.init_disable_hover_on_scroll(),this.init_events(),this.options.initial_trigger&&this.ticker.do_next(function(){e.scroll_handle(),e.resize_handle()}),B.Tools.Browser.prototype.instance=this},init_breakpoints:function(){this.breakpoints={},this.breakpoints.items=[],this.breakpoints.current=null,this.add_breakpoints(this.options.breakpoints)},add_breakpoint:function(t){this.breakpoints.items.push(t)},add_breakpoints:function(t){for(var e=0;e<t.length;e++)this.add_breakpoint(t[e])},test_breakpoints:function(){for(var t=null,e=0,i=this.breakpoints.items.length;i>e;e++){var n=this.breakpoints.items[e],o=!n.limits.width,s=!n.limits.height;o||("min"===n.limits.width.extreme?(n.limits.width.included&&this.viewport.width>=n.limits.width.value||!n.limits.width.included&&this.viewport.width>n.limits.width.value)&&(o=!0):(n.limits.width.included&&this.viewport.width<=n.limits.width.value||!n.limits.width.included&&this.viewport.width<n.limits.width.value)&&(o=!0)),s||("min"===n.limits.height.extreme?(n.limits.height.included&&this.viewport.height>=n.limits.height.value||!n.limits.height.included&&this.viewport.height>n.limits.height.value)&&(s=!0):(n.limits.height.included&&this.viewport.height<=n.limits.height.value||!n.limits.height.included&&this.viewport.height<n.limits.height.value)&&(s=!0)),o&&s&&(t=n)}if(t!==this.breakpoints.current){var r=this.breakpoints.current;this.breakpoints.current=t,this.shall_trigger.breakpoint=[this.breakpoints.current,r]}},init_disable_hover_on_scroll:function(){function t(){e&&window.clearTimeout(e),i||(i=!0,document.body.style.pointerEvents="none"),e=window.setTimeout(function(){i=!1,document.body.style.pointerEvents="auto"},60)}if(this.options.disable_hover_on_scroll){var e=null,i=!1;this.on("scroll",t)}},init_browser_version:function(){var t={},e=navigator.userAgent.toLowerCase();if(t.opera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t.firefox="undefined"!=typeof InstallTrigger,t.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,t.chrome=!!window.chrome&&!t.opera,t.internet_explorer=-1!==e.indexOf("msie")&&-1===e.indexOf("opera"),t.ipad=-1!==e.indexOf("ipad"),t.O=t.opera,t.FF=t.firefox,t.SAF=t.safari,t.CH=t.chrome,t.IE=t.internet_explorer,t.MSIE=t.internet_explorer,t.IPAD=t.ipad,this.is=t,this.version=!1,this.is.IE){var i=navigator.userAgent.toLowerCase();this.version=-1!==i.indexOf("msie")?parseInt(i.split("msie")[1],10):!1,this.is["internet_explorer_"+this.version]=!0,this.is["IE_"+this.version]=!0}this.add_classes()},add_classes:function(){for(var t=null,e=0,i=this.options.add_classes_to.length;i>e;e++)if(t=document.querySelectorAll(this.options.add_classes_to[e]),t.length)for(var n in this.is)if(this.is[n])for(var o=0;o<t.length;o++)t[o].classList.add(n),this.is.IE&&this.version&&t[o].classList.add(n+"-"+this.version)},init_events:function(){var t=this;this.ticker.on("tick",function(){t.frame()}),window.onresize=function(){t.resize_handle()},window.onscroll=function(){t.scroll_handle()}},resize_handle:function(){this.viewport.width=window.innerWidth,this.viewport.height=window.innerHeight,this.test_breakpoints(),this.shall_trigger.resize=[this.viewport]},scroll_handle:function(){var t=null,e=null,i=null,n=null;this.is.IE&&"CSS1Compat"===document.compatMode?(t=window.document.documentElement.scrollTop>this.viewport.top?"down":"up",e=window.document.documentElement.scrollLeft>this.viewport.left?"right":"left",i=window.document.documentElement.scrollTop,n=window.document.documentElement.scrollLeft):(t=window.pageYOffset>this.viewport.top?"down":"up",e=window.pageXOffset>this.viewport.left?"right":"left",i=window.pageYOffset,n=window.pageXOffset),this.viewport.direction.y=t,this.viewport.direction.x=e,this.viewport.delta.top=i-this.viewport.top,this.viewport.delta.left=n-this.viewport.left,this.viewport.delta.y=this.viewport.delta.top,this.viewport.delta.x=this.viewport.delta.left,this.viewport.top=i,this.viewport.left=n,this.viewport.y=this.viewport.top,this.viewport.x=this.viewport.left,this.shall_trigger.scroll=[this.viewport]},match_media:function(t){return"matchMedia"in window&&"string"==typeof t&&""!==t?!!window.matchMedia(t).matches:!1},frame:function(){for(var t=Object.keys(this.shall_trigger),e=0;e<t.length;e++)this.trigger(t[e],this.shall_trigger[t[e]]);t.length&&(this.shall_trigger={})}})}(),function(){"use strict";B.Tools.Css=B.Core.Abstract.extend({static_instantiate:function(){return null===B.Tools.Css.prototype.instance?null:B.Tools.Css.prototype.instance},init:function(t){this._super(t),this.prefixes=["webkit","moz","o","ms",""],this.browser=new B.Tools.Browser,B.Tools.Css.prototype.instance=this},apply:function(t,e,i){"undefined"==typeof t.length&&(t=[t]),this.browser.is.IE&&this.browser.version<10&&(i=i.replace("translateZ(0)",""));for(var n={},o=0,s=this.prefixes.length;s>o;o++){var r=this.prefixes[o];""!==r?r+=this.capitalize_first_letter(e):r=e,n[r]=i}for(var a=Object.keys(n),l=0,c=t.length;c>l;l++)for(var h=t[l],u=0,d=a.length;d>u;u++)h.style[a[u]]=n[a[u]]},capitalize_first_letter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}})}(),function(){"use strict";B.Tools.Images=B.Core.Abstract.extend({static_instantiate:function(){return null===B.Tools.Images.prototype.instance?null:B.Tools.Images.prototype.instance},init:function(t){this._super(t),this.urls=[],this.images=[],this.length=0,this.loaded=0,B.Tools.Images.prototype.instance=this},load:function(t,e){var i=this;"string"==typeof t?this.urls.push(t):t instanceof Array&&(this.urls=t),this.images=[],this.length=this.urls.length,this.loaded=0;for(var n=0;n<this.length;n++)!function(){var t=new Image;i.images.push(t),t.onload=function(){i.loaded++,i.loaded===i.length&&e.call(i,i.images)},t.src=i.urls[n]}()},add:function(t){"string"==typeof t?this.urls.push(t):t instanceof Array&&(this.urls=t)},get_proportions:function(t){var e=[];if(("undefined"==typeof t.image_width||0===parseInt(t.image_width,10))&&e.push("Image width must be specified"),("undefined"==typeof t.image_height||0===parseInt(t.image_height,10))&&e.push("Image height must be specified"),("undefined"==typeof t.container_width||0===parseInt(t.container_width,10))&&e.push("Container width must be specified"),("undefined"==typeof t.container_height||0===parseInt(t.container_height,10))&&e.push("Container height must be specified"),e.length)return!1;t.fit_type=t.fit_type||"fill",t.alignment_x=t.alignment_x||"center",t.alignment_y=t.alignment_y||"middle",t.rounding=t.rounding||"ceil",t.coordinates=t.coordinates||"css";var i={},n=t.image_width/t.image_height,o=t.container_width/t.container_height,s=0,r=0,a=0,l=0,c=null;t.fit_type=t.fit_type.toLowerCase(),t.alignment_x=t.alignment_x.toLowerCase(),t.alignment_y=t.alignment_y.toLowerCase(),t.rounding=t.rounding.toLowerCase(),t.coordinates=t.coordinates.toLowerCase(),(void 0===typeof t.alignment_x||"left"!==t.alignment_x&&"center"!==t.alignment_x&&"right"!==t.alignment_x)&&(t.alignment_x="center"),(void 0===typeof t.alignment_y||"top"!==t.alignment_y&&"middle"!==t.alignment_y&&"bottom"!==t.alignment_y)&&(t.alignment_y="middle");var h=function(){switch(s=t.container_width,r=t.container_width/t.image_width*t.image_height,a=0,c="width",t.alignment_y){case"top":l=0;break;case"middle":l=(t.container_height-r)/2;break;case"bottom":l=t.container_height-r}},u=function(){switch(r=t.container_height,s=t.container_height/t.image_height*t.image_width,l=0,c="height",t.alignment_x){case"left":a=0;break;case"center":a=(t.container_width-s)/2;break;case"right":a=t.container_width-s}};return"fill"===t.fit_type||"full"===t.fit_type?o>n?h():u():("fit"===t.fit_type||"i sits"===t.fit_type)&&(o>n?u():h()),("ceil"===t.rounding||"round"===t.rounding||"floor"===t.rounding)&&(s=Math[t.rounding].call(this,s),r=Math[t.rounding].call(this,r),a=Math[t.rounding].call(this,a),l=Math[t.rounding].call(this,l)),"cartesian"===t.coordinates?(i.width=s,i.height=r,i.x=a,i.y=l):(i.width=s,i.height=r,i.left=a,i.top=l),i.fit_in=c,i}})}(),function(){"use strict";B.Tools.Ticker=B.Core.Event_Emitter.extend({options:{auto_run:!0},static_instantiate:function(){return null===B.Tools.Ticker.prototype.instance?null:B.Tools.Ticker.prototype.instance},init:function(t){this._super(t),this.started=!1,this.running=!1,this.time={},this.time.start=0,this.time.elapsed=0,this.time.delta=0,this.time.current=0,this.do_next_actions={},this.do_next_actions.before=[],this.do_next_actions.after=[],this.options.auto_run&&this.run(),B.Tools.Ticker.prototype.instance=this},start:function(t){this.started=!0,this.time.start=+new Date,this.time.current=this.time.start,this.time.elapsed=0,this.time.delta=0,t&&this.run()},run:function(){var t=this;if(!this.running){this.running=!0;var e=function(){t.running&&window.requestAnimationFrame(e),t.tick()};e()}},stop:function(){this.running=!1},tick:function(){this.started||this.start(),this.time.current=+new Date,this.time.delta=this.time.current-this.time.start-this.time.elapsed,this.time.elapsed=this.time.current-this.time.start;for(var t=0,e=this.do_next_actions.before.length;e>t;t++)this.do_next_actions.before[t].call(this,[this.time]),this.do_next_actions.before.splice(t,1);for(this.trigger("tick",[this.time]),t=0,e=this.do_next_actions.after.length;e>t;t++)this.do_next_actions.after[t].call(this,[this.time]),this.do_next_actions.after.splice(t,1)},do_next:function(t,e){return"function"!=typeof t?!1:void this.do_next_actions[e?"before":"after"].push(t)}})}();